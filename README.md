# Multi-Window Timer

このプロジェクトは、複数のウィンドウで動作するタイマーアプリケーションです。タイマーの設定と表示を別々のウィンドウで行うことができます。

## 機能

- タイマーの設定
- タイマーの表示
- 全画面表示のサポート
  - マウスカーソルの動きに応じて表示される全画面表示/解除ボタン（アイコン表示）
  - 自動非表示機能（3秒間操作がない場合）
- タイマーの状態をローカルストレージに保存
- タイマーの状態を他のウィンドウに同期
- ボタンの表示制御（マウスカーソルの動きに応じて表示）
- フォントサイズの調整機能

## ファイル構成

- `index.html`: タイマーの設定画面
- `display.html`: タイマーの表示画面
- `timer.js`: タイマーの設定を行うJavaScriptファイル
- `display.js`: タイマーの表示を行うJavaScriptファイル
- `styles.css`: 共通のスタイルシート

## 使用方法

### タイマーの設定

1. `index.html`をブラウザで開きます。
2. 時間を設定し、「開始」ボタンをクリックします。
3. タイマーが開始され、設定した時間が経過すると「終了」と表示されます。
4. 大幅に時間を超過すると、超過時間が表示されます。

### タイマーの表示

1. `display.html`を別のウィンドウまたはタブで開きます。`index.html`の「表示ウィンドウを開く」ボタンからも開くことができます。
2. タイマーの残り時間が表示されます。
3. マウスカーソルを動かすと、右上に全画面表示ボタン（アイコン）が表示されます。
4. 全画面表示ボタンをクリックすると、タイマーが全画面表示されます。

### 全画面表示の切り替え

- **全画面表示への切り替え**: 
  - マウスカーソルを動かすと、右上に全画面表示ボタン（四隅から外側に向かう矢印アイコン）が3秒間表示されます。
  - ボタンをクリックすると、全画面表示に切り替わります。
  
- **全画面表示の解除**:
  - 全画面表示中にマウスカーソルを動かすと、右上に全画面解除ボタン（四隅から内側に向かう矢印アイコン）が3秒間表示されます。
  - ボタンをクリックすると、全画面表示が解除されます。
  - または、`Esc`キーを押すことでも解除できます。

## 開発

### 必要な環境

- 任意のWebブラウザ（Chrome、Firefox、Safari、Edgeなど）

- このプロジェクトはChromeで動作確認されていますが、Safariでは一部の機能が正しく動作しない場合があります。（BroadcastChannelが動作しないようです。）

### ファイルの説明

#### `index.html`

タイマーの設定画面です。ユーザーが時間を設定し、タイマーを開始または停止することができます。

#### `display.html`

タイマーの表示画面です。タイマーの残り時間が表示され、全画面表示に切り替えることができます。
display.htmlは2つ以上同時に開くこともできます。

#### `timer.js`

タイマーの設定を行うJavaScriptファイルです。タイマーの開始、停止、ローカルストレージへの保存を行います。

#### `display.js`

タイマーの表示を行うJavaScriptファイルです。ローカルストレージからタイマーの状態を取得し、画面に表示します。また、全画面表示の切り替えをサポートします。マウスカーソルの動きを検知して、全画面表示/解除ボタンを適切に表示・非表示にします。

#### `styles.css`

共通のスタイルシートです。タイマーの表示スタイルを定義します。

## ビルド手順

このプロジェクトはビルド手順を必要としません。以下の手順でプロジェクトをセットアップし、ブラウザで開くだけで動作します。

1. プロジェクトをクローンします。
    ```sh
    git clone https://github.com/higaa/multi-window-timer.git
    ```
2. プロジェクトディレクトリに移動します。
    ```sh
    cd multi-window-timer
    ```
3. `index.html`と`display.html`をブラウザで開きます。

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。詳細は`LICENSE`ファイルをご覧ください。